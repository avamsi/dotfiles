[user]
	name = 'Vamsi Avula'
	email = 'avamsi07@gmail.com'

[aliases]
	am = ['amend']
	bg = ['--ignore-working-copy']
	bgc = ['bg', '--color=always']
	list = ['log', '--no-graph']
	branches = ['list', '--template=branches " "']
	delta = [
		'''--config-toml=ui.pager=[
			"delta", "--line-numbers", "--navigate", "--side-by-side"]''',
		'diff', '--git']
	ids = ['list', '--template=commit_id.short() " "']
	reword = ['describe']
	rollback = ['backout']
	torebase = ['ids', '--revisions=torebase']
	up = ['checkout']
	whatsout = ['diff', '--summary']

[colors]
	working_copy.underline = true

[git]
	fetch = ['fork', 'origin']
	push = 'fork'

[merge-tools.vscode]
	program = 'code'
	# Note: we don't use VS Code's --diff mode as it doesn't support diffing folders.
	# TODO: try https://marketplace.visualstudio.com/items?itemName=moshfeu.compare-folders.
	edit-args = ['--new-window', '--wait', '$left', '$right']
	merge-args = [
		'--new-window', '--wait', '--merge', '$left', '$right', '$base', '$output']

[ui]
	diff-editor = 'vscode'
	merge-editor = 'vscode'

[revset-aliases]
	og = 'present(main@origin) | present(master@origin)'
	unsubmitted = 'remote_branches("", origin)..'
	torebase = 'unsubmitted ~ descendants(og)'
	interesting = 'og | parents(unsubmitted) | unsubmitted'

[template-aliases]
	'augment_description(description, first_line)' = '''
        if(empty, label("empty", "(empty) "))
        if(
            description,
            if(first_line, description.first_line(), description),
            description_placeholder if(first_line, "", "\n")
        )
    '''
	'format_short_id(id)' = 'id.shortest()'
	'format_short_signature(signature)' = 'label("email", signature.username())'
	'format_timestamp(timestamp)' = 'timestamp.ago()'
	show = '''
        change_id.shortest() " " author.email() " " committer.timestamp().ago()
        " " if(branches, branches " ") commit_id.short()
        "\n"
        "\n"
        augment_description(description, "")
        "\n"
    '''
	oneline = 'commit_id.shortest() " " augment_description(description, "_") "\n"'
